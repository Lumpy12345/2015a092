<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">  
     <title>TT1 2015-A092</title>
    <!-- Bootstrap -->
    <script type="text/JavaScript" src="../Recursos/js/Funciones.js"></script>
      <link href="../Recursos/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../Recursos/css/styles.css">
    <link rel="stylesheet" href="../Recursos/css/queries.css">
  <link rel="stylesheet" href="../Recursos/openlayers/ol.css" type="text/css">
    <script src="../Recursos/openlayers/ol.js"></script>
     <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
	  <!-- Fonts -->
    <link href='http://fonts.googleapis.com/css?family=Sintony:400,700' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style>
                 #map-id {
                         width: auto;
                         height: 200px;
                 }
         </style>
  </head>
  <body>
      
	<header class="clearfix">
        <div class="logo col-md-3"><h2 class="logo-text">SSGPE</h2></div>
       
        <nav class="clearfix">
            <ul class="clearfix">
                <li><a href="index.html" class="active">Inicio</a></li>
                 <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Consulta<span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="mapa.html">Historial</a></li>
            <li><a href="comparativa.html">Comparativa</a></li>
          </ul>
        </li>
                <li><a href="#" onclick="Cerrar_Sesion()">Cerrar Sesion</a></li>
            </ul>
             
        </nav>

        <div class="pullcontainer">
        <a href="#" id="pull"><i class="fa fa-bars fa-2x"></i></a>
        </div>   
        </header> 
   
    <div class="container">
    <div class="arrow"></div>
    </div>

    <div class="text-inter">
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <h3>Pronosticos a futuro.</h3>
          <p>Selecciona la regiòn,tipo de eleccion e información deseada.</p>
         
          
          <div style="padding-right: 70%;">
           <label for="sel1">Tipo de Elección</label>
          <select class="form-control" id="sel1">
            <option>Federal</option>
            <option>Senadores</option>
            <option>Diputado</option>
          </select>
        </div>
        <br>
        <label for="sel1">Información</label><br>
          <label class="radio-inline"><input type="radio" name="optradio">Participación Ciudadana</label>
          <label class="radio-inline"><input type="radio" name="optradio">Votos</label>
          <label class="radio-inline"><input type="radio" name="optradio">Partido Politico</label>
          <br><br>
        <button type="button" class="btn  btn-md">Generar Pronostico</button>
        </div>
          
        <div class="col-md-6"  style="padding-bottom: 250px;">
       
             <h1>Entidad Federativa: Distrito Federal</h1>
            <div id="mouse-position"></div>
         <div id="map" ></div>
<script>



var mousePositionControl = new ol.control.MousePosition({
        coordinateFormat: ol.coordinate.createStringXY(4),
        projection: 'EPSG:4326',
        // comment the following two lines to have the mouse position
        // be placed within the map.
        className: 'custom-mouse-position',
        target: document.getElementById('mouse-position'),
        undefinedHTML: '&nbsp;'
      });

 var format = 'image/png';
var untiled = new ol.layer.Image({
        source: new ol.source.ImageWMS({
          ratio: 1,
          url: 'http://localhost:8080/geoserver/cite/wms',
          params: {'FORMAT': format,
                   'VERSION': '1.1.0',  
                LAYERS: 'cite:DF',
                STYLES: '',
          }
        })
      });
      var tiled = new ol.layer.Tile({
        visible: false,
        source: new ol.source.TileWMS({
          url: 'http://localhost:8080/geoserver/cite/wms',
          params: {'FORMAT': format, 
                   'VERSION': '1.1.0',
                   tiled: true,
                LAYERS: 'cite:DF',
                STYLES: '',
          }
        })
      });
      
  var map = new ol.Map
  (
  {


    controls: ol.control.defaults({
          attributionOptions: /** @type {olx.control.AttributionOptions} */ ({
            collapsible: false
          })
        }).extend([mousePositionControl]),


    layers: 
    [
          new ol.layer.Image
          ({
                opacity : 0.9,
                source: new ol.source.ImageWMS
                ({
                      ratio: 1,
                      url: 'http://localhost:8080/geoserver/cite/wms',
                      params: 
                      {
                            'FORMAT': 'image/png',
                            'VERSION': '1.1.0',  
                            LAYERS: 'cite:DF',
                            STYLES: '',
                            'cql_filter' : "cve_mun = '005'"
                      }

                })

          })
          ,
          new ol.layer.Image
          ({
                opacity : 0.2,
                source: new ol.source.ImageWMS
                ({
                      ratio: 1,
                      url: 'http://localhost:8080/geoserver/cite/wms',
                      params: 
                      {
                            'FORMAT': 'image/png',
                            'VERSION': '1.1.0',  
                            LAYERS: 'cite:DF',
                            STYLES: '',
                      }

                })


          })
    ],

    view: new ol.View({
      center: ol.proj.transform([-58.0930, 2.7979], 'EPSG:4326', 'EPSG:3857'),
      zoom: 9
    }),
    target: 'map'
  }
  );

   map.on('singleclick', function(evt) {
        document.getElementById('nodelist').innerHTML = "Loading... please wait...";
        var view = map.getView();
        var viewResolution = view.getResolution();
        var source = untiled.get('visible') ? untiled.getSource() : tiled.getSource();
        var url = source.getGetFeatureInfoUrl(
          evt.coordinate, viewResolution, view.getProjection(),
          {'INFO_FORMAT': 'text/html', 'FEATURE_COUNT': 50});
        if (url) {
          document.getElementById('nodelist').innerHTML = '<iframe seamless src="' + url + '"></iframe>';
        }
      });

document.getElementById("mouse-position").style.display = 'none';
document.getElementById("mouse-position").style.display = 'block';

</script>
            
            
            
        </div>  
      </div>
    </div>
    </div>
  
    <footer>
      <div class="container">
        <div class="row">
          <div class="col-md-2">
            <h2>SSGPE</h2>
          </div>
          <div class="col-md-4">
            TT1 2015-A092 "Sistema de Servicios Geograficos para Procesos Electorales"
          </div>
          <div class="col-md-4">
            Alumnos:
             <ul class="footer-links">
              <li>Bustamante Escobar Juan Alfonso</li>
              <li>León Nolasco Diego Bernardo</li>
              <li>Sánchez Moreno Rodolfo Ricardo</li>
              
            </ul>
          </div>
          
          <div class="col-md-2">
            Directores:
            <ul class="footer-links">
              <li>M. en C. Chadwick Carreto</li>
              <li>Dr.Torres Ruiz Miguel</li>
             
            </ul>
          </div>
        </div>
      </div>  
    </footer>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
     <script src="../Recursos/bootstrap/dist/js/bootstrap.min.js"></script>
      
  </body>
</html>