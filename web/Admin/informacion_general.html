<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="shortcut icon" href="img/favicon.png">

    <title>tt1 2015-A092</title>

    <!-- Bootstrap CSS -->    
    <link href="../Recursos/admin/bootstrap.min.css" rel="stylesheet">
    <!-- bootstrap theme -->
    <link href="../Recursos/admin/bootstrap-theme.css" rel="stylesheet">
    <!--external css-->
    <!-- font icon -->
    <link href="../Recursos/admin/elegant-icons-style.css" rel="stylesheet" />
    <link href="../Recursos/admin/font-awesome.min.css" rel="stylesheet" />
    <!-- Custom styles -->
    <link href="../Recursos/admin/style.css" rel="stylesheet">
    <link href="../Recursos/admin/style-responsive.css" rel="stylesheet" />
    
    <link rel="stylesheet" href="../Recursos/openlayers/ol.css" type="text/css">
    <script src="../Recursos/openlayers/ol.js"></script>
     <script type="text/JavaScript" src="../Recursos/js/Funciones.js"></script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.js"></script>
      <script src="js/respond.min.js"></script>
      <script src="js/lte-ie7.js"></script>
    <![endif]-->
  </head>

  <body>
  <!-- container section start -->
  <section id="container" class="">
      <!--header start-->
      
      <header class="header dark-bg">
            <div class="toggle-nav">
                <div class="icon-reorder tooltips" data-original-title="Toggle Navigation" data-placement="bottom"></div>
            </div>

            <!--logo start-->
            <a href="index.html" class="logo"><span class="lite">SSGPE</span></a>
            <!--logo end-->

            <div class="nav search-row" id="top_menu">
                <!--  search form start -->

                <!--  search form end -->                
            </div>

            <div class="top-nav notification-row">                
                <!-- notificatoin dropdown start-->
                <ul class="nav pull-right top-menu">
                    
                    <!-- task notificatoin start -->
                    <li id="task_notificatoin_bar" class="dropdown">
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                            <span class="icon-task-l"></span>
                        </a>
                        <ul class="dropdown-menu extended tasks-bar">
                            <div class="notify-arrow notify-arrow-blue"></div>
                            

                            <li class="external">
                                <a href="#">See All Tasks</a>
                            </li>
                        </ul>
                    </li>
                    <!-- task notificatoin end -->
                    <!-- inbox notificatoin start-->
                    <li id="mail_notificatoin_bar" class="dropdown">
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                            <i class="icon-envelope-l"></i>
                        </a>
                        <ul class="dropdown-menu extended inbox">
                            <div class="notify-arrow notify-arrow-blue"></div>

                            
                            
                            
                            
                            <li>
                                <a href="#">See all messages</a>
                            </li>
                        </ul>
                    </li>
                    <!-- inbox notificatoin end -->
                    <!-- alert notification start-->
                    <li id="alert_notificatoin_bar" class="dropdown">
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">

                            <i class="icon-bell-l"></i>
                        </a>
                        <ul class="dropdown-menu extended notification">
                            <div class="notify-arrow notify-arrow-blue"></div>
                            
                                              
                            <li>
                                <a href="#">See all notifications</a>
                            </li>
                        </ul>
                    </li>
                    <!-- alert notification end-->
                    <!-- user login dropdown start-->
                  <li class="dropdown">
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                            <span class="profile-ava">
                            </span>
                            <span class="username" onclick="Cerrar_Sesion()">Cerrar Sesion</span>
                            <b class="caret"></b>
                        </a>
                        
                    </li>
                    <!-- user login dropdown end -->
                </ul>
                <!-- notificatoin dropdown end-->
            </div>
      </header>      
      <!--header end-->

      <!--sidebar start-->
      <aside>
          <div id="sidebar"  class="nav-collapse ">
              <!-- sidebar menu start-->
              <ul class="sidebar-menu">                
                  <li class="active">
                      <a class="" href="index.html">
                          <i class="icon_house_alt"></i>
                          <span>Home</span>
                      </a>
                  </li>
                  
                  <li class="sub-menu">
                      <a href="javascript:;" class="">
                          <i class="icon_desktop"></i>
                          <span>Sitema</span>
                          <span class="menu-arrow arrow_carrot-right"></span>
                      </a>
                      <ul class="sub">
                          <li><a class="" href="cargar_base.html">Cargar Base de Datos</a></li>
                      </ul>
                  </li>
                  
                  <li>                     
                      <a class="" href="informacion_general.html">
                          <i class="icon_piechart"></i>
                          <span>Información</span>
                          
                      </a>
                                         
                  </li>
                             
                  <li class="sub-menu">
                      <a href="#" class="">
                          <i class="icon_table"></i>
                          <span>Usuarios</span>
                          <span class="menu-arrow arrow_carrot-right"></span>
                      </a>
                      <ul class="sub">
                          <li><a class="" href="usuarios.html">Adminstrar Usuarios</a></li>
                          <li><a class="" href="crear_usuario.html">Crear Usuario</a></li>
                          
                      </ul>
                  </li>
                  
                  
              </ul>
              <!-- sidebar menu end-->
          </div>
      </aside>
      <!--sidebar end-->

      <!--main content start-->
      <section id="main-content">
          <section class="wrapper">
		  <div class="row">
				<div class="col-lg-12">
					<h3 class="page-header"><i class="fa fa fa-bars"></i> Información General</h3>
					<ol class="breadcrumb">
						<li><i class="fa fa-home"></i><a href="index.html">Home</a></li>
						<li><i class="fa fa-bars"></i>Informacion General</li>
						<li><i class="fa fa-square-o"></i>Mapa intereactivo</li>
					</ol>
				</div>
			</div>
              <!-- page start-->
               <div class="quote-container">
      <div class="container">
        <div class="row">
          <div class="col-md-3" >
          <label for="sel1">Año de Elección</label>
          <select class="form-control" id="sel1">
            <option>2009</option>
            <option>2006</option>
            <option>2003</option>
            <option>2000</option>
            <option>1997</option>
            <option>1994</option>
            
          </select>
          
          </div>
          <div class="col-md-3">
           <label for="sel1">Tipo de Elección</label>
          <select class="form-control" id="sel1">
            <option>Federal</option>
            <option>Senadores</option>
            <option>Diputado</option>
            
          </select>
          
          </div>
          <div class="col-md-4">
           <label for="sel1">Información</label><br>
          
          <label class="radio-inline"><input type="radio" name="optradio">Participación Ciudadana</label>
          <label class="radio-inline"><input type="radio" name="optradio">Votos</label>
           <label class="radio-inline"><input type="radio" name="optradio">Partido Politico</label>
        </div>
        <div class="col-md-2">
          <button type="button" class="btn  btn-sm"><i class="fa fa-file-pdf-o"> Reporte</i></button>
        </div>
        </div>
      </div>
    </div>
              <div class="container">
         <h1>Entidad Federativa: Distrito Federal</h1>
          <div id="mouse-position"></div>
          <div id="map" ></div>
    </div>
    
   <div id="map" ></div>
<script>

var mousePositionControl = new ol.control.MousePosition({
        coordinateFormat: ol.coordinate.createStringXY(4),
        projection: 'EPSG:4326',
        // comment the following two lines to have the mouse position
        // be placed within the map.
        className: 'custom-mouse-position',
        target: document.getElementById('mouse-position'),
        undefinedHTML: '&nbsp;'
      });

 var format = 'image/png';
var untiled = new ol.layer.Image({
        source: new ol.source.ImageWMS({
          ratio: 1,
          url: 'http://localhost:8080/geoserver/cite/wms',
          params: {'FORMAT': format,
                   'VERSION': '1.1.0',  
                LAYERS: 'cite:DF',
                STYLES: '',
          }
        })
      });
      var tiled = new ol.layer.Tile({
        visible: false,
        source: new ol.source.TileWMS({
          url: 'http://localhost:8080/geoserver/cite/wms',
          params: {'FORMAT': format, 
                   'VERSION': '1.1.0',
                   tiled: true,
                LAYERS: 'cite:DF',
                STYLES: '',
          }
        })
      });
      
  var map = new ol.Map
  (
  {


    controls: ol.control.defaults({
          attributionOptions: /** @type {olx.control.AttributionOptions} */ ({
            collapsible: false
          })
        }).extend([mousePositionControl]),


    layers: 
    [
          new ol.layer.Image
          ({
                opacity : 0.9,
                source: new ol.source.ImageWMS
                ({
                      ratio: 1,
                      url: 'http://localhost:8080/geoserver/cite/wms',
                      params: 
                      {
                            'FORMAT': 'image/png',
                            'VERSION': '1.1.0',  
                            LAYERS: 'cite:DF',
                            STYLES: '',
                            'cql_filter' : "cve_mun = '005'"
                      }

                })

          })
          ,
          new ol.layer.Image
          ({
                opacity : 0.2,
                source: new ol.source.ImageWMS
                ({
                      ratio: 1,
                      url: 'http://localhost:8080/geoserver/cite/wms',
                      params: 
                      {
                            'FORMAT': 'image/png',
                            'VERSION': '1.1.0',  
                            LAYERS: 'cite:DF',
                            STYLES: '',
                      }

                })


          })
    ],

    view: new ol.View({
      center: ol.proj.transform([-58.0930, 2.7979], 'EPSG:4326', 'EPSG:3857'),
      zoom: 10
    }),
    target: 'map'
  }
  );

   map.on('singleclick', function(evt) {
        document.getElementById('nodelist').innerHTML = "Loading... please wait...";
        var view = map.getView();
        var viewResolution = view.getResolution();
        var source = untiled.get('visible') ? untiled.getSource() : tiled.getSource();
        var url = source.getGetFeatureInfoUrl(
          evt.coordinate, viewResolution, view.getProjection(),
          {'INFO_FORMAT': 'text/html', 'FEATURE_COUNT': 50});
        if (url) {
          document.getElementById('nodelist').innerHTML = '<iframe seamless src="' + url + '"></iframe>';
        }
      });



</script>   

              <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/1.6.19/topojson.min.js"></script>
<script>

var width = 1250,
    height = 628;

var projection = d3.geo.conicConformal()
    .rotate([102, 0])
    .center([0, 24])
    .parallels([17.5, 29.5])
    .scale(1850)
    .translate([width / 2, height / 2]);

var path = d3.geo.path()
    .projection(projection);

var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height);

d3.json("mx.json", function(error, mx) {
  if (error) throw error;

  svg.append("g")
      .attr("class", "municipalities")
    .selectAll("path")
      .data(topojson.feature(mx, mx.objects.municipalities).features)
    .enter().append("path")
      .attr("d", path)
    .append("title")
      .text(function(d) { return d.properties.name; });

  svg.append("path")
      .datum(topojson.mesh(mx, mx.objects.municipalities, function(a, b) { return a.properties.state !== b.properties.state; }))
      .attr("class", "state-boundary")
      .attr("d", path);

  svg.append("path")
      .datum(topojson.mesh(mx, mx.objects.municipalities, function(a, b) { return a.properties.state === b.properties.state && a !== b; }))
      .attr("class", "municipality-boundary")
      .attr("d", path);
});

d3.select(self.frameElement).style("height", height + "px");

</script>
              <!-- page end-->
          </section>
      </section>
      <!--main content end-->
  </section>
  <!-- container section end -->
    <!-- javascripts -->
    <script src="../Recursos/admin/jquery.js"></script>
    <script src="../Recursos/admin/bootstrap.min.js"></script>
    <!-- nice scroll -->
    <script src="../Recursos/admin/jquery.scrollTo.min.js"></script>
    <script src="../Recursos/admin/jquery.nicescroll.js" type="text/javascript"></script><!--custome script for all page-->
    <script src="../Recursos/admin/scripts.js"></script>
    


  </body>
</html>
